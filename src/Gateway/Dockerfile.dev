# Placeholder Dockerfile for Gateway Service POC
# This will be replaced with actual implementation in Phase 1

FROM mcr.microsoft.com/dotnet/aspnet:9.0-alpine AS base
WORKDIR /app
EXPOSE 5000

FROM mcr.microsoft.com/dotnet/sdk:9.0-alpine AS build
WORKDIR /src

# Copy SharedKernel (when it exists)
# COPY ["SharedKernel/CodingAgent.SharedKernel/CodingAgent.SharedKernel.csproj", "SharedKernel/CodingAgent.SharedKernel/"]

# Copy Gateway project (to be created)
# COPY ["Gateway/CodingAgent.Gateway/CodingAgent.Gateway.csproj", "Gateway/CodingAgent.Gateway/"]
# RUN dotnet restore "Gateway/CodingAgent.Gateway/CodingAgent.Gateway.csproj"

# Build
# COPY . .
# WORKDIR "/src/Gateway/CodingAgent.Gateway"
# RUN dotnet build "CodingAgent.Gateway.csproj" -c Release -o /app/build

FROM build AS publish
# RUN dotnet publish "CodingAgent.Gateway.csproj" -c Release -o /app/publish /p:UseAppHost=false

FROM base AS final
WORKDIR /app
# COPY --from=publish /app/publish .

# Temporary placeholder entrypoint for POC validation
# This demonstrates the container structure before actual service implementation
ENTRYPOINT ["sh", "-c", "echo 'Gateway service placeholder - awaiting implementation' && tail -f /dev/null"]
